<div class="stats-overlay">
  <div class="stats-container">
    <div class="stats-header">
      <button class="btn-close-modal" (click)="closeStats()">âœ•</button>
      <h2 class="stats-title">
        ğŸ“Š {{ translationService.translate("stats.title") }}
      </h2>
      <p class="stats-subtitle">
        {{ translationService.translate("stats.subtitle") }}
      </p>
    </div>

    <div class="stats-content" *ngIf="stats">
      <!-- EstadÃ­sticas Generales -->
      <div class="stat-section">
        <h3 class="section-title">
          ğŸ® {{ translationService.translate("stats.general.title") }}
        </h3>
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">ğŸ¯</div>
            <div class="stat-value">{{ stats.totalGames }}</div>
            <div class="stat-label">
              {{ translationService.translate("stats.general.gamesPlayed") }}
            </div>
          </div>
          <div class="stat-card highlight">
            <div class="stat-icon">ğŸ‘‘</div>
            <div class="stat-value">{{ stats.highScore }}</div>
            <div class="stat-label">
              {{ translationService.translate("stats.general.highScore") }}
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">ğŸ’°</div>
            <div class="stat-value">{{ stats.totalScore }}</div>
            <div class="stat-label">
              {{ translationService.translate("stats.general.totalScore") }}
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">â±ï¸</div>
            <div class="stat-value">
              {{ formatPlayTime(stats.totalPlayTime) }}
            </div>
            <div class="stat-label">
              {{ translationService.translate("stats.general.playTime") }}
            </div>
          </div>
        </div>
      </div>

      <!-- PrecisiÃ³n -->
      <div class="stat-section">
        <h3 class="section-title">
          ğŸ¯ {{ translationService.translate("stats.accuracy.title") }}
        </h3>
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">âœ…</div>
            <div class="stat-value">{{ stats.totalCorrect }}</div>
            <div class="stat-label">
              {{ translationService.translate("stats.accuracy.correct") }}
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">âŒ</div>
            <div class="stat-value">{{ stats.totalIncorrect }}</div>
            <div class="stat-label">
              {{ translationService.translate("stats.accuracy.incorrect") }}
            </div>
          </div>
          <div class="stat-card highlight">
            <div class="stat-icon">ğŸ“ˆ</div>
            <div class="stat-value">
              {{ stats.averageAccuracy.toFixed(1) }}%
            </div>
            <div class="stat-label">
              {{
                translationService.translate("stats.accuracy.averageAccuracy")
              }}
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">âš¡</div>
            <div class="stat-value">{{ stats.totalRounds }}</div>
            <div class="stat-label">
              {{ translationService.translate("stats.accuracy.totalRounds") }}
            </div>
          </div>
        </div>
      </div>

      <!-- Rendimiento -->
      <div class="stat-section">
        <h3 class="section-title">
          âš¡ {{ translationService.translate("stats.performance.title") }}
        </h3>
        <div class="stats-grid">
          <div class="stat-card highlight">
            <div class="stat-icon">ğŸ”¥</div>
            <div class="stat-value">{{ stats.longestStreak }}</div>
            <div class="stat-label">
              {{
                translationService.translate("stats.performance.longestStreak")
              }}
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">â²ï¸</div>
            <div class="stat-value">
              {{ stats.averageReactionTime.toFixed(0) }}ms
            </div>
            <div class="stat-label">
              {{
                translationService.translate("stats.performance.reactionTime")
              }}
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">ğŸ“…</div>
            <div class="stat-value">
              {{ formatLastPlayed(stats.lastPlayed) }}
            </div>
            <div class="stat-label">
              {{ translationService.translate("stats.performance.lastPlayed") }}
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">ğŸ“Š</div>
            <div class="stat-value">
              {{
                (stats.totalScore / Math.max(stats.totalGames, 1)).toFixed(0)
              }}
            </div>
            <div class="stat-label">
              {{ translationService.translate("stats.performance.avgPerGame") }}
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="empty-state" *ngIf="!stats || stats.totalGames === 0">
      <div class="empty-icon">ğŸ“Š</div>
      <p class="empty-message">
        {{ translationService.translate("stats.empty") }}
      </p>
    </div>
  </div>
</div>
